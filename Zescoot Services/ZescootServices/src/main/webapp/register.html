<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - Zescoot Servies</title>
    <!-- Google font api for icons  -->
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0" />

    <link rel="stylesheet" href="registerStyle.css">
    <link rel="stylesheet" href="registerMediaqueriesStyle.css">
    <style>
        /* Add styles for success message */
        .message-container {
            display: none;
            background-color: #d4edda;
            color: #155724;
            padding: 10px;
            margin-top: 10px;
            border-radius: 5px;
        }
    </style>
</head>

<body>

    <div id="main-upper"></div>
    <div id="v1"></div>
    <div id="nav" class="nav-top">
        <img id="logo-main" src="./assets/logo.png" alt="">
        <!-- <h2>Zescoot</h2>   -->
        <h4 id="nav-home">Home</h4>
        <h4 id="nav-contests">Contest</h4>
        <h4 id="nav-faqs">FAQs</h4>
        <h4 id="nav-accounts">Account</h4>
        <h4 id="nav-about-us" class="ab-us">About Us</h4>
        <div id="login-register">
            <h3><a href="login.html" id="login" style="text-decoration: none;">Login</a></h3>
			<h3><a href="register.html" id="register" style="text-decoration: none;">Register</a></h3>        </div>
    </div>
    </div>
    <div id="cursor"></div>
    <div id="cursor-blur"></div>

    <!-- <video id="v1" autoplay muted  src="bmw-logo-animation.webm"></video> -->

    <div id="main">
        <div id="page1">


            <div class="login-container">
                <!-- <div class="page1-containers-inside" id="left">
                    <h3>Become a part of wonderful journey!<br>Earn while you learn from India's best bike rental
                        company.
                    </h3>
                </div> -->
                <div class="page1-containers-inside" id="right">
                    <h2>Create a new account</h2>
                    <!-- <div class="direct-login">
                        <button class="login-google"> <img src="./google.png" alt="">Google </button>
                        <button class="login-phone-number"> <img src="./phone.png" alt="">Phone</button>
                    </div> -->

                    <!-- <p class="seperator">
                        <span>or</span>
                    </p> -->
                    
                    <div id="message-container" class="message-container" ></div>
                    
                    <form action="create-account" method="post" class="register-form">


                        <div class="input-wrapper">
                            <input type="text" id="email" name="name" placeholder="Enter your name" class="input-field" required>
                            <i class="material-symbols-rounded">info</i>
                        </div>

                        <div class="input-wrapper">
                            <input type="tel" id="email" name="phone" placeholder="Enter your phone number" class="input-field"
                                required>
                            <i class="material-symbols-rounded">phone</i>
                        </div>
                        <div class="input-wrapper">
                            <input type="email" id="email" name="email" placeholder="Enter your email" class="input-field" required>
                            <i class="material-symbols-rounded">mail</i>
                        </div>

                        <div class="input-wrapper">
                            <input type="password" id="password" name="password" placeholder="Create a new password" class="input-field"
                                required>
                            <i class="material-symbols-rounded">lock</i>
                        </div>

                        <div class="input-wrapper">
                            <input type="password" id="password" placeholder="Confirm your password" class="input-field"
                                required oninput="checkPasswordMatch(this)">
                            <i class="material-symbols-rounded">lock</i>
                        </div>

                        <div id="error-message" style="color: red;"></div>


                        <!-- <a href="" class="forgot-pass-link">Forgot Password?</a> -->
                        <button type="submit" class="login-button">Register</button>

                        <p class="signup-text">Already registered? <a href="login"> Login Now</a></p>
                    </form>
                </div>
            </div>

            <div id="arrow-container">
                <div id="arrow">
                    <p>Help!</p>
                </div>
            </div>
        </div>
    </div>
	<script>
        document.addEventListener('DOMContentLoaded', function() {
            // Check if there's a query parameter indicating a successful login
            const urlParams = new URLSearchParams(window.location.search);
            if(urlParams.get('user') === 'exists'){
            	setTimeout(function() {
            		const messageContainer = document.getElementById('message-container');
                    messageContainer.textContent = 'Registration failed, user already exists...';
                    messageContainer.style.display = 'block';
                    messageContainer.style.backgroundColor = '#f36a6a';
                    messageContainer.style.color = '#dadada';
                    messageContainer.style.fontSize = '18px';
                    messageContainer.style.fontWeight = '600';
                    messageContainer.style.marginBottom= '0.5rem';
                    document.querySelector(".login-container #right").style.height = '31rem';
                }, 1800);
            }
            else if (urlParams.get('register') === 'success') {
                const messageContainer = document.getElementById('message-container');
                messageContainer.textContent = 'Registration successful! Redirecting to Login...';
                messageContainer.style.display = 'block';
                messageContainer.style.backgroundColor = '#d4edda';
                messageContainer.style.color = '#155724';
                messageContainer.style.fontSize = '18px';
                messageContainer.style.fontWeight = '600';
                messageContainer.style.marginBottom= '0.5rem';
                document.querySelector(".login-container #right").style.height = '32rem';

                /* .message-container{
	font-weight: 600;
	margin-bottom: 0.5rem;
} */
                
                // Redirect to dashboard after 2 seconds
                setTimeout(function() {
                    window.location.href = 'login.html';
                }, 1800); // 2000 milliseconds = 2 seconds
            }
            
            else if(urlParams.get('error') === 'registration failed'){
            	
            	setTimeout(function() {
            		const messageContainer = document.getElementById('message-container');
                    messageContainer.textContent = 'Registration failed, try again...';
                    messageContainer.style.display = 'block';
                    messageContainer.style.backgroundColor = '#f36a6a';
                    messageContainer.style.color = '#dadada';
                    messageContainer.style.fontSize = '18px';
                    messageContainer.style.fontWeight = '600';
                    messageContainer.style.marginBottom= '0.5rem';
                    document.querySelector(".login-container #right").style.height = '31rem';
                }, 1800);
            	
            }
        });
    </script>
    <script src="registerScript.js"></script>
</body>

</html>